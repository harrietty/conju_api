language: go
go:
  - 1.13.x
go_import_path: github.com/harrietty/conju_api
branches:
  only:
    - master
    - dev
install: "./install-dependencies.sh"
build:
  - make build
deploy:
  - provider: script
    skip_cleanup: true
    script: make deployprod
    on:
      branch: master
  - provider: script
    skip_cleanup: true
    script: make deploy
    on:
      branch: dev
notifications:
  slack:
    on_success: change
    on_failure: always
    rooms:
      - secure: JsldISWwvCeG7SCqy70F4os1SB99UrFcgcHpLD4Nvz9pPc/xcWX0pYkpCer4PbHgEPDvKithu5zmf/cmV4eCYcAFUND+eNs498frbRFREmzUMDY47oFEIODboeOYHcjm08f4pMc+azao3BGuI+bmkqtCMkeRRC5JU/wbe9wWQppIKqbsUPQfKGKcTkSycyzZBP8s8xmvHhTBvsnh2aqpIES4ISHXnbcbIogZjAJF+y1Ye4Q89CfIyB5egBMSoDJnzJIZ43BI26p2bsbC2GF+v4o2x2b3bWkkCU+CkLiqEQzOtU1flcN/BvyCQcGp51MEgNF2pzS4MvW1c1xgs/3uiZSirIPkd62ByXhQ1KGntP5BUq2x0gss53PN8nQp6+yQCUAG6/+tLyGHEjPibx2mg3/qkpmULEx9tZGQJaiV10MA0sLQ1C2U5ro0Jbq+vkMWibcToz++GC5zHoSC23HWG+0RojpfbkWH1dX3OWQzyLxPMrXuezPJrmbWSZ7/a9MKPWwPvfLljPmHqNiegCPZ2CgV1qyfhW6MYjya5LMvEMAjbtzcNYtQDDxOWLq9qrPrmLFYM3Hx0gDJgfLZ1PDQ2HYD1AWr/XHi0FiSJJnubUoulW47J+OXbi8VHRCn0lOGVUbImXCINnI5thEwbibNeFBGUlbIc/sZsbG9Vf53aWw=
